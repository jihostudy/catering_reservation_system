# 타겟 사이트 폼 구조 분석

## 실제 HTML 구조 분석 결과

### 폼 필드 구조

| 필드명 | HTML 선택자 | 타입 | 필수 | 비고 |
|--------|------------|------|------|------|
| 이메일 | `input[name="email"]` | email | ✅ | readonly, 자동 채워짐 |
| 이름 | `input[name="name"]` | text | ✅ | placeholder: "김올영" |
| 사번 | `input[name="empNo"]` | text | ✅ | placeholder: "800000" |
| 케이터링 타입 | `select[name="type"]` | select | ✅ | 값: "01", "02", "03", "04", "05" |
| 제출 버튼 | `button[type="submit"]` | button | - | 텍스트: "신청하기" |

### 케이터링 타입 옵션 값

| 표시명 | 값 | 시간대 |
|--------|-----|--------|
| 1차수 | `01` | 11:30~12:00 |
| 2차수 | `02` | 12:00~12:30 |
| 3차수 | `03` | 12:30~13:00 |
| 콤보 | `04` | 11:30~15:00 |
| 샐러드 | `05` | 11:30~15:00 |

### 수정 사항

#### 1. 필드명 변경
- ❌ `employeeId` → ✅ `empNo`
- ❌ `cateringType` → ✅ `type`

#### 2. 케이터링 타입 값 매핑
사용자가 입력한 값(예: "1차수", "lunch")을 실제 옵션 값("01", "02" 등)으로 변환:

```typescript
const CATERING_TYPE_MAP: Record<string, string> = {
  '1차수': '01',
  '2차수': '02',
  '3차수': '03',
  '콤보': '04',
  '샐러드': '05',
  'lunch': '01',
  'dinner': '02',
  'combo': '04',
  'salad': '05',
};
```

#### 3. 개선 사항
- ✅ 모든 필수 필드에 대한 검증 추가
- ✅ 제출 버튼 찾기 로직 개선 (텍스트 기반 검색 추가)
- ✅ 버튼 비활성화 상태 확인
- ✅ 입력값 검증 로그 추가
- ✅ React 프레임워크 호환을 위한 대기 시간 증가 (100ms → 300ms)

### 폼 제출 플로우

1. 이메일 필드 대기 및 입력 (readonly이지만 값 설정)
2. 이름 필드 찾기 및 입력
3. 사번 필드 찾기 및 입력
4. 케이터링 타입 선택 (값 매핑 후 설정)
5. 입력값 검증
6. 300ms 대기 (React 상태 업데이트 대기)
7. 제출 버튼 찾기 및 클릭

### 주의사항

1. **이메일 필드**: readonly 속성이지만 `setInputValue`로 값 설정 가능
2. **케이터링 타입**: 사용자 입력값을 실제 옵션 값으로 변환 필요
3. **제출 버튼**: 비활성화 상태일 수 있으므로 확인 필요
4. **타이밍**: React 등 프레임워크가 상태를 업데이트할 시간 필요

### 테스트 체크리스트

- [ ] 이메일 필드 자동 입력 확인
- [ ] 이름 필드 자동 입력 확인
- [ ] 사번 필드 자동 입력 확인
- [ ] 케이터링 타입 선택 확인 (각 옵션별)
- [ ] 제출 버튼 클릭 확인
- [ ] 폼 제출 성공 확인
- [ ] 에러 처리 확인 (필드 없을 때, 버튼 비활성화일 때)

